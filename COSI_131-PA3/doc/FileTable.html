<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_20) on Sat Nov 22 10:48:11 EST 2014 -->
<title>FileTable</title>
<meta name="date" content="2014-11-22">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FileTable";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileTable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="FileSystem.html" title="interface in &lt;Unnamed&gt;"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="FreeMap.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?FileTable.html" target="_top">Frames</a></li>
<li><a href="FileTable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Class FileTable" class="title">Class FileTable</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>FileTable</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">FileTable</span>
extends java.lang.Object</pre>
<div class="block">Tracks open files and provides an interface to interact with files.

 A FileTable provides an interface to interact with files and to
 track open files by their file descriptor (an integer, often
 abbreviated "fd").

 This class keeps track of all files currently open.  In a real Unix
 system, this information is split into three levels: There is a
 table of "in-core inodes" with one entry for each file that has
 been opened by any process, there is another table with one entry
 for each "instance" of an open file (allowing multiple seek
 pointers into the same file), and there is a per-process table
 mapping instances to file descriptors.}</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#MAX_FILES">MAX_FILES</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="FileTable.html#FileTable--">FileTable</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#add-Inode-int-int-">add</a></span>(<a href="Inode.html" title="class in &lt;Unnamed&gt;">Inode</a>&nbsp;inode,
   int&nbsp;inumber,
   int&nbsp;fd)</code>
<div class="block">Add a new file at the specified fd.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#allocate--">allocate</a></span>()</code>
<div class="block">Return the next free file descriptor (fd).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#free-int-">free</a></span>(int&nbsp;fd)</code>
<div class="block">Delete a file descriptor from the file table.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#getFdFromInumber-int-">getFdFromInumber</a></span>(int&nbsp;inumber)</code>
<div class="block">Get the file descriptor (fd) from a file's inumber.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="Inode.html" title="class in &lt;Unnamed&gt;">Inode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#getInode-int-">getInode</a></span>(int&nbsp;fd)</code>
<div class="block">Get the Inode for a file descriptor.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#getInumber-int-">getInumber</a></span>(int&nbsp;fd)</code>
<div class="block">Get the Inumber for a file descriptor.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#getSeekPointer-int-">getSeekPointer</a></span>(int&nbsp;fd)</code>
<div class="block">Get the seek pointer for a file descriptor.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#isValid-int-">isValid</a></span>(int&nbsp;fd)</code>
<div class="block">Checks to see if a fd is valid.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#setFileSize-int-int-">setFileSize</a></span>(int&nbsp;fd,
           int&nbsp;size)</code>
<div class="block">Set the size of the file described by file descriptor fd.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="FileTable.html#setSeekPointer-int-int-">setSeekPointer</a></span>(int&nbsp;fd,
              int&nbsp;p)</code>
<div class="block">Set the seek pointer for a file descriptor.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_FILES">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MAX_FILES</h4>
<pre>public static final&nbsp;int MAX_FILES</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="constant-values.html#FileTable.MAX_FILES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FileTable--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileTable</h4>
<pre>public&nbsp;FileTable()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="allocate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocate</h4>
<pre>public&nbsp;int&nbsp;allocate()</pre>
<div class="block">Return the next free file descriptor (fd).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>next free file descriptor, or -1 if the file table is
         full</dd>
</dl>
</li>
</ul>
<a name="add-Inode-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;int&nbsp;add(<a href="Inode.html" title="class in &lt;Unnamed&gt;">Inode</a>&nbsp;inode,
               int&nbsp;inumber,
               int&nbsp;fd)</pre>
<div class="block">Add a new file at the specified fd. Use allocate() to get a
 free file descriptor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inode</code> - the Inode to add</dd>
<dd><code>inumber</code> - the inumber of the file</dd>
<dd><code>fd</code> - the identifier of the file descriptor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 on success, -1 otherwise</dd>
</dl>
</li>
</ul>
<a name="free-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>free</h4>
<pre>public&nbsp;void&nbsp;free(int&nbsp;fd)</pre>
<div class="block">Delete a file descriptor from the file table.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fd</code> - The file descriptor to delete</dd>
</dl>
</li>
</ul>
<a name="isValid-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValid</h4>
<pre>public&nbsp;boolean&nbsp;isValid(int&nbsp;fd)</pre>
<div class="block">Checks to see if a fd is valid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fd</code> - the identifier of a file descriptor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the fd is valid, false otherwise</dd>
</dl>
</li>
</ul>
<a name="getInode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInode</h4>
<pre>public&nbsp;<a href="Inode.html" title="class in &lt;Unnamed&gt;">Inode</a>&nbsp;getInode(int&nbsp;fd)</pre>
<div class="block">Get the Inode for a file descriptor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fd</code> - the identifier of a file descriptor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if the file descriptor at fd does not exist</dd>
</dl>
</li>
</ul>
<a name="getInumber-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInumber</h4>
<pre>public&nbsp;int&nbsp;getInumber(int&nbsp;fd)</pre>
<div class="block">Get the Inumber for a file descriptor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fd</code> - the identifier of a file descriptor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 if invalid, otherwise Inumber</dd>
</dl>
</li>
</ul>
<a name="getSeekPointer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSeekPointer</h4>
<pre>public&nbsp;int&nbsp;getSeekPointer(int&nbsp;fd)</pre>
<div class="block">Get the seek pointer for a file descriptor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fd</code> - the identifier of a file descriptor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>seek pointer, -1 if fd is invalid</dd>
</dl>
</li>
</ul>
<a name="setSeekPointer-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSeekPointer</h4>
<pre>public&nbsp;int&nbsp;setSeekPointer(int&nbsp;fd,
                          int&nbsp;p)</pre>
<div class="block">Set the seek pointer for a file descriptor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fd</code> - the identifier of a file descriptor</dd>
<dd><code>p</code> - the new seek pointer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 on success, -1 otherwise</dd>
</dl>
</li>
</ul>
<a name="setFileSize-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFileSize</h4>
<pre>public&nbsp;int&nbsp;setFileSize(int&nbsp;fd,
                       int&nbsp;size)</pre>
<div class="block">Set the size of the file described by file descriptor fd.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fd</code> - the identifier of a file descriptor</dd>
<dd><code>size</code> - the new size of the file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 on success, -1 otherwise</dd>
</dl>
</li>
</ul>
<a name="getFdFromInumber-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFdFromInumber</h4>
<pre>public&nbsp;int&nbsp;getFdFromInumber(int&nbsp;inumber)</pre>
<div class="block">Get the file descriptor (fd) from a file's inumber.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inumber</code> - the inumber of a file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the fd on success, -1 on error</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileTable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="FileSystem.html" title="interface in &lt;Unnamed&gt;"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="FreeMap.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?FileTable.html" target="_top">Frames</a></li>
<li><a href="FileTable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
